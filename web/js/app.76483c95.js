(function(e){function t(t){for(var n,r,l=t[0],i=t[1],u=t[2],d=0,s=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&s.push(c[r][0]),c[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);f&&f(t);while(s.length)s.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,r=1;r<o.length;r++){var l=o[r];0!==c[l]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={app:0},c={app:0},a=[];function l(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0e9cc528":"fc117d05","chunk-1e80c40e":"4e9d0c8e","chunk-1fdb5426":"d3762498","chunk-4469a79b":"b4576984","chunk-4796b3c0":"c0744dc0","chunk-eb5472ae":"8a21b069"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o={"chunk-0e9cc528":1,"chunk-1e80c40e":1,"chunk-1fdb5426":1,"chunk-4469a79b":1,"chunk-4796b3c0":1,"chunk-eb5472ae":1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise((function(t,o){for(var n="css/"+({}[e]||e)+"."+{"chunk-0e9cc528":"73ce7de9","chunk-1e80c40e":"5bb0cfac","chunk-1fdb5426":"1b52665c","chunk-4469a79b":"e5b533d9","chunk-4796b3c0":"c5d9e088","chunk-eb5472ae":"5ae726d0"}[e]+".css",c=i.p+n,a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var u=a[l],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===n||d===c))return t()}var s=document.getElementsByTagName("style");for(l=0;l<s.length;l++){u=s[l],d=u.getAttribute("data-href");if(d===n||d===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete r[e],f.parentNode.removeChild(f),o(a)},f.href=c;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[e]=0})));var n=c[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=c[e]=[t,o]}));t.push(n[2]=a);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=l(e);var s=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var o=c[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",s.name="ChunkLoadError",s.type=n,s.request=r,o[1](s)}c[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var f=d;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"0613":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("d4ec"),r=o("5502"),c="V2RAY-SUBSCRIPTION-APP-TOKEN",a=function e(){Object(n["a"])(this,e),this.token="",this.expired=0},l=function e(){Object(n["a"])(this,e)},i=function e(){Object(n["a"])(this,e),this.token=new a,this.local=new l};t["b"]=Object(r["a"])({state:new i,getters:{token:function(e){return e.token},local:function(e){return e.local}},mutations:{token:function(e,t){e.token=t,sessionStorage.setItem(c,JSON.stringify(t))}},actions:{logout:function(e){e.state.token=new a,sessionStorage.removeItem(c)},load:function(e){var t=sessionStorage.getItem(c);if(null!=t){var o=Date.parse(new Date)/1e3,n=JSON.parse(t);return!(n.expired<o)&&(e.state.token=n,!0)}return!0}},modules:{}})},"0cc9":function(e,t,o){"use strict";o("edff")},"1ac9":function(e,t,o){},2788:function(e,t,o){},"363c":function(e,t,o){},3645:function(e,t,o){"use strict";o("2788")},"6bdc":function(e,t,o){},"736b":function(e,t,o){"use strict";o("cc58")},"89df":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return c}));var n=o("d4ec"),r=function e(){Object(n["a"])(this,e),this.code=0,this.message=""},c=function e(){Object(n["a"])(this,e),this.key="",this.value=""}},"8ab1":function(e,t,o){"use strict";o("1ac9")},b751:function(e,t,o){},bc94:function(e,t,o){"use strict";o("6bdc")},cc58:function(e,t,o){},cd49:function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("ac1f"),o("5319"),o("4d63"),o("25f0");var n=o("7a23");function r(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])(l)}var c=Object(n["defineComponent"])({name:"App"});o("736b");c.render=r;var a=c,l=(o("d3b7"),o("3ca3"),o("ddb0"),o("b0c0"),o("6c02")),i=o("0613"),u={class:"content-center el-container"},d={class:"el-main el-main-md-and-up hidden-sm-and-down"},s=["onMouseover","onMouseout"],f={class:"el-col-4"},m={class:"el-col-2"},b={class:"el-col-4"},p={class:"el-col-2"},h={class:"el-col-2"},O={class:"el-col-xl-6 el-col-lg-6 el-col-md-6"},j={class:"el-col-xl-4 el-col-lg-4 el-col-md-4"},V=Object(n["createTextVNode"])("生成VMess链接"),v=Object(n["createTextVNode"])("生成完整配置"),_={key:0,class:"endpoint-box el-row margin-bottom-2x"},w=Object(n["createElementVNode"])("div",{class:"el-col-24"},"暂时没有可用的配置列表",-1),y=[w],N={class:"el-row"},g={class:"el-col-24"},C=Object(n["createTextVNode"])("添加配置"),k=Object(n["createTextVNode"])("部署服务器"),x=Object(n["createTextVNode"])("下载客户端"),T=Object(n["createElementVNode"])("div",{class:"el-main el-main-sm-and-down hidden-md-and-up"},[Object(n["createElementVNode"])("div",{class:"endpoint-box el-row margin-bottom"},[Object(n["createElementVNode"])("div",{class:"el-col-24"},"暂未适配手机端")])],-1);function S(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("el-button"),i=Object(n["resolveComponent"])("Remove"),w=Object(n["resolveComponent"])("NewV2rayEndpoint"),S=Object(n["resolveComponent"])("Download"),B=Object(n["resolveComponent"])("QRCode"),E=Object(n["resolveComponent"])("DeployV2rayServer");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",d,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.data,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t.id,class:"endpoint-box el-row margin-bottom-2x",onMouseover:function(e){return t.show_delete_button=!0},onMouseout:function(e){return t.show_delete_button=!1}},[Object(n["createElementVNode"])("div",f,Object(n["toDisplayString"])(t.host),1),Object(n["createElementVNode"])("div",m,Object(n["toDisplayString"])(t.port),1),Object(n["createElementVNode"])("div",b,Object(n["toDisplayString"])(t.user_id),1),Object(n["createElementVNode"])("div",p,Object(n["toDisplayString"])(t.alter_id),1),Object(n["createElementVNode"])("div",h,Object(n["toDisplayString"])(e.getTransportType(t.transport_type)),1),Object(n["createElementVNode"])("div",O,Object(n["toDisplayString"])(t.remark?t.remark:"-"),1),Object(n["createElementVNode"])("div",j,[Object(n["createVNode"])(l,{type:"primary",loading:t.downloading,onClick:function(o){return e.download(t)}},{default:Object(n["withCtx"])((function(){return[V]})),_:2},1032,["loading","onClick"]),Object(n["createVNode"])(l,{type:"primary",class:"margin-left",loading:t.downloading,onClick:function(o){return e.download(t)}},{default:Object(n["withCtx"])((function(){return[v]})),_:2},1032,["loading","onClick"]),Object(n["withDirectives"])(Object(n["createVNode"])(l,{type:"danger",class:"delete-button",icon:"el-icon-delete",circle:"",onClick:function(o){e.removeItem=t,e.showRemoveModal=!0}},null,8,["onClick"]),[[n["vShow"],t.show_delete_button]])])],40,s)})),128)),0===e.data.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_,y)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("div",g,[Object(n["createVNode"])(l,{type:"success",size:"medium",onClick:t[0]||(t[0]=function(t){return e.showNewModal=!0})},{default:Object(n["withCtx"])((function(){return[C]})),_:1}),Object(n["createVNode"])(l,{type:"primary",size:"medium",onClick:t[1]||(t[1]=function(t){return e.showDevelopV2rayModal=!0})},{default:Object(n["withCtx"])((function(){return[k]})),_:1}),Object(n["createVNode"])(l,{type:"primary",size:"medium",onClick:t[2]||(t[2]=function(t){return e.showDownloadModal=!0})},{default:Object(n["withCtx"])((function(){return[x]})),_:1})])])]),T]),Object(n["createVNode"])(i,{show:e.showRemoveModal,"onUpdate:show":t[3]||(t[3]=function(t){return e.showRemoveModal=t}),loading:e.removing,onConfirm:e.remove},null,8,["show","loading","onConfirm"]),Object(n["createVNode"])(w,{show:e.showNewModal,"onUpdate:show":t[4]||(t[4]=function(t){return e.showNewModal=t}),onSuccess:e.load},null,8,["show","onSuccess"]),Object(n["createVNode"])(S,{show:e.showDownloadModal,"onUpdate:show":t[5]||(t[5]=function(t){return e.showDownloadModal=t})},null,8,["show"]),Object(n["createVNode"])(B,{show:e.showQRCodeModal,"onUpdate:show":t[6]||(t[6]=function(t){return e.showQRCodeModal=t}),content:e.v2rayNgVMessString},null,8,["show","content"]),Object(n["createVNode"])(E,{show:e.showDevelopV2rayModal,"onUpdate:show":t[7]||(t[7]=function(t){return e.showDevelopV2rayModal=t}),onSuccess:e.load},null,8,["show","onSuccess"])],64)}var B=o("bc3a"),E=o.n(B),U=o("d4ec"),P=o("262e"),I=o("2caf"),M=o("89df"),H="/api/v2ray-endpoint",D=(M["a"],function e(){Object(U["a"])(this,e),this.id=0,this.remark="",this.host="",this.port=80,this.user_id="",this.alter_id=4,this.transport_type=0,this.downloading=!1,this.show_delete_button=!1,this.show_generate_menu=!1}),R="/api/v2ray-endpoint/download",q=function e(){Object(U["a"])(this,e),this.id=0},F=(M["a"],"/api/v2ray-endpoint/remove"),z=function e(){Object(U["a"])(this,e),this.id=0,this.password=""},A={class:"content-center"},$=Object(n["createTextVNode"])("取消"),L=Object(n["createTextVNode"])("确认");function G(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("el-input"),i=Object(n["resolveComponent"])("el-form-item"),u=Object(n["resolveComponent"])("el-form"),d=Object(n["resolveComponent"])("el-button"),s=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{width:"60%","model-value":e.show,onClose:e.close,"destroy-on-close":""},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(u,{model:e.form,"label-width":"0",ref:"RemoveEndpointForm",onsubmit:"return false",onSubmit:e.confirm,rules:e.rules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{prop:"password"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.password,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.password=t}),placeholder:"请输入密码",autocomplete:"off"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","onSubmit","rules"])]),Object(n["createElementVNode"])("div",A,[Object(n["createVNode"])(d,{onClick:e.close},{default:Object(n["withCtx"])((function(){return[$]})),_:1},8,["onClick"]),Object(n["createVNode"])(d,{type:"danger",onClick:e.confirm,loading:e.loading},{default:Object(n["withCtx"])((function(){return[L]})),_:1},8,["onClick","loading"])])]})),_:1},8,["model-value","onClose"])}var K=Object(n["defineComponent"])({name:"Remove",props:{show:Boolean,loading:Boolean},emits:["update:show","confirm"],data:function(){return{form:new z,rules:{password:[{required:!0,message:"必须填写删除密码",trigger:"blur"}]}}},methods:{close:function(){this.$emit("update:show",!1),this.form.password=""},confirm:function(){var e=this,t=this.$refs["RemoveEndpointForm"];t.validate((function(t){t&&e.$emit("confirm",e.form.password)}))}}});K.render=G;var W=K;Object(n["pushScopeId"])("data-v-4bfee68e");var Q={class:"inline-form-item-2"},X={class:"inline-form-item-2"},J={class:"inline-form-item-2"},Y=Object(n["createTextVNode"])("TCP传输配置"),Z={class:"inline-form-item-2"},ee=Object(n["createTextVNode"])("添加自定义请求头字段"),te={class:"inline-form-item-3"},oe=Object(n["createTextVNode"])("添加自定义响应头字段"),ne=Object(n["createTextVNode"])("WebSocket传输配置"),re=Object(n["createTextVNode"])("添加自定义头字段"),ce=Object(n["createTextVNode"])("KCP传输配置"),ae={class:"inline-form-item-2"},le={class:"inline-form-item-2"},ie={class:"inline-form-item-2"},ue=Object(n["createTextVNode"])("MB/S"),de=Object(n["createTextVNode"])("MB"),se={class:"inline-form-item-2"},fe=Object(n["createTextVNode"])("MB/S"),me=Object(n["createTextVNode"])("MB"),be=Object(n["createTextVNode"])("HTTP2传输配置"),pe=Object(n["createTextVNode"])("取消"),he=Object(n["createTextVNode"])("保存");function Oe(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("el-input"),i=Object(n["resolveComponent"])("el-form-item"),u=Object(n["resolveComponent"])("el-switch"),d=Object(n["resolveComponent"])("el-option"),s=Object(n["resolveComponent"])("el-select"),f=Object(n["resolveComponent"])("el-divider"),m=Object(n["resolveComponent"])("el-button"),b=Object(n["resolveComponent"])("el-form"),p=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{width:"60%","model-value":e.show,onClose:e.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{model:e.form,"label-width":"120px",ref:"NewV2rayEndpointForm",rules:e.rules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{label:"备注信息"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.remark,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.remark=t}),placeholder:"备注信息"},null,8,["modelValue"])]})),_:1}),Object(n["createElementVNode"])("div",Q,[Object(n["createVNode"])(i,{label:"主机HOST",prop:"host",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.host,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.host=t}),placeholder:"主机地址: IP或域名"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"端口","label-width":"60px",prop:"port",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.port,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.port=t}),type:"number",min:"1",max:"65535",placeholder:"端口"},null,8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",X,[Object(n["createVNode"])(i,{label:"用户ID",prop:"user_id",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.user_id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.user_id=t}),placeholder:"用户身份ID"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"额外ID","label-width":"60px",prop:"alter_id",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.alter_id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.alter_id=t}),type:"number",min:"0",max:"65535",placeholder:"额外ID的数量，需要与服务器配置一致"},null,8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",J,[Object(n["createVNode"])(i,{label:"使用TLS",class:"form-item-0"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{modelValue:e.form.use_tls,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.use_tls=t})},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"传输方式","label-width":"80px",prop:"transport_type",class:"form-item-1"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:e.form.transport_type,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.transport_type=t}),class:"w-100"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{value:1,label:"TCP"}),Object(n["createVNode"])(d,{value:2,label:"WebSocket"}),Object(n["createVNode"])(d,{value:3,label:"KCP"}),Object(n["createVNode"])(d,{value:4,label:"HTTP2"})]})),_:1},8,["modelValue"])]})),_:1})]),1===parseInt(e.form.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createVNode"])(f,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[Y]})),_:1}),Object(n["createVNode"])(i,{label:"伪装类型"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:e.form.tcp.type,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.tcp.type=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{value:"none",label:"NONE"}),Object(n["createVNode"])(d,{value:"http",label:"HTTP"})]})),_:1},8,["modelValue"])]})),_:1}),"http"===e.form.tcp.type?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createElementVNode"])("div",Z,[Object(n["createVNode"])(i,{label:"请求版本",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:e.form.tcp.request.version,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.tcp.request.version=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{value:"1.1",label:"HTTP/1.1"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"请求方式",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:e.form.tcp.request.method,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.tcp.request.method=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{value:"GET",label:"GET"}),Object(n["createVNode"])(d,{value:"POST",label:"POST"})]})),_:1},8,["modelValue"])]})),_:1})]),Object(n["createVNode"])(i,{label:"请求路径"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.tcp.request.path,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.tcp.request.path=t}),placeholder:"请求路径，多个路径用英文,分隔，每次请求会随机选择一个，默认为/"},null,8,["modelValue"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.tcp.request.headers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"inline-form-item-2"},[Object(n["createVNode"])(i,{label:"字段名",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},placeholder:"自定义头的字段名称"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(i,{label:"字段值",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"自定义头的字段值"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(i,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{type:"primary",onClick:e.addTcpRequestHeader},{default:Object(n["withCtx"])((function(){return[ee]})),_:1},8,["onClick"])]})),_:1}),Object(n["createElementVNode"])("div",te,[Object(n["createVNode"])(i,{label:"响应版本",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:e.form.tcp.response.version,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.form.tcp.response.version=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{value:"1.1",label:"HTTP/1.1"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"状态码",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.tcp.response.status,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.form.tcp.response.status=t}),placeholder:"HTTP响应的状态码，默认为200"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"状态描述",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.tcp.response.reason,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.form.tcp.response.reason=t}),placeholder:"HTTP响应的状态描述，默认为OK"},null,8,["modelValue"])]})),_:1})]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.tcp.response.headers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"inline-form-item-2"},[Object(n["createVNode"])(i,{label:"字段名",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},placeholder:"自定义头的字段名称"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(i,{label:"字段值",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"自定义头的字段值"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(i,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{type:"primary",onClick:e.addTcpResponseHeader},{default:Object(n["withCtx"])((function(){return[oe]})),_:1},8,["onClick"])]})),_:1})],64)):Object(n["createCommentVNode"])("",!0)],64)):Object(n["createCommentVNode"])("",!0),2===parseInt(e.form.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createVNode"])(f,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[ne]})),_:1}),Object(n["createVNode"])(i,{label:"路径"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.web_socket.path,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.form.web_socket.path=t}),placeholder:"URI路径"},null,8,["modelValue"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.web_socket.headers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"inline-form-item-2"},[Object(n["createVNode"])(i,{label:"字段名",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},placeholder:"自定义头的字段名称"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(i,{label:"字段值",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"自定义头的字段值"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(i,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{type:"primary",onClick:e.addWebSocketHeader},{default:Object(n["withCtx"])((function(){return[re]})),_:1},8,["onClick"])]})),_:1})],64)):Object(n["createCommentVNode"])("",!0),3===parseInt(e.form.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:2},[Object(n["createVNode"])(f,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[ce]})),_:1}),Object(n["createElementVNode"])("div",ae,[Object(n["createVNode"])(i,{label:"伪装类型",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:e.form.kcp.type,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.form.kcp.type=t}),class:"w-100"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{value:"none",label:"none"}),Object(n["createVNode"])(d,{value:"srtp",label:"srtp"}),Object(n["createVNode"])(d,{value:"utp",label:"utp"}),Object(n["createVNode"])(d,{value:"wechat-video",label:"wechat-video"}),Object(n["createVNode"])(d,{value:"dtls",label:"dtls"}),Object(n["createVNode"])(d,{value:"wireguard",label:"wireguard"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"开启拥塞控制",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{modelValue:e.form.kcp.congestion,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.form.kcp.congestion=t})},null,8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",le,[Object(n["createVNode"])(i,{label:"MTU大小",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.kcp.mtu,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.form.kcp.mtu=t}),type:"number",min:"576",max:"1460",placeholder:"传输单元大小，576-1460之间的整数，默认为1350"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"TTI间隔时间",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.kcp.tti,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.form.kcp.tti=t}),type:"number",min:"10",max:"100",placeholder:"传输间隔时间，10-100之间的整数，默认为50"},null,8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",ie,[Object(n["createVNode"])(i,{label:"上行带宽",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.kcp.uplink_capacity,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.form.kcp.uplink_capacity=t}),type:"number",min:"0",placeholder:"上行带宽大小，默认为5，单位MB/s"},{append:Object(n["withCtx"])((function(){return[ue]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"读取缓冲区大小",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.kcp.read_buffer_size,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.form.kcp.read_buffer_size=t}),type:"number",min:"1",placeholder:"读取缓冲区大小，默认为2，单位MB"},{append:Object(n["withCtx"])((function(){return[de]})),_:1},8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",se,[Object(n["createVNode"])(i,{label:"下行带宽",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.kcp.downlink_capacity,"onUpdate:modelValue":t[21]||(t[21]=function(t){return e.form.kcp.downlink_capacity=t}),type:"number",min:"0",placeholder:"下行带宽大小，默认为20，单位MB/s"},{append:Object(n["withCtx"])((function(){return[fe]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"写入缓冲区大小",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.kcp.write_buffer_size,"onUpdate:modelValue":t[22]||(t[22]=function(t){return e.form.kcp.write_buffer_size=t}),type:"number",min:"1",placeholder:"写入缓冲区大小，默认为2，单位MB"},{append:Object(n["withCtx"])((function(){return[me]})),_:1},8,["modelValue"])]})),_:1})])],64)):Object(n["createCommentVNode"])("",!0),4===parseInt(e.form.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:3},[Object(n["createVNode"])(f,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[be]})),_:1}),Object(n["createVNode"])(i,{label:"域名"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.http2.host,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.form.http2.host=t}),placeholder:"HTTP2的域名，多个使用英文,分隔"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(i,{label:"路径"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.form.http2.path,"onUpdate:modelValue":t[24]||(t[24]=function(t){return e.form.http2.path=t}),placeholder:"URI路径"},null,8,["modelValue"])]})),_:1})],64)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(i,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{type:"danger",onClick:e.close},{default:Object(n["withCtx"])((function(){return[pe]})),_:1},8,["onClick"]),Object(n["createVNode"])(m,{type:"primary",onClick:e.save,loading:e.saving},{default:Object(n["withCtx"])((function(){return[he]})),_:1},8,["onClick","loading"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["model-value","onClose"])}Object(n["popScopeId"])();var je="/api/v2ray-endpoint/new",Ve=function e(){Object(U["a"])(this,e),this.cloud=0,this.endpoint=0,this.rate="",this.remark="",this.host="",this.port=443,this.user_id="",this.alter_id=4,this.use_tls=!1,this.transport_type=1,this.tcp=new(function(){function e(){Object(U["a"])(this,e),this.type="none",this.request=new(function(){function e(){Object(U["a"])(this,e),this.version="1.1",this.method="GET",this.path="",this.headers=new Array}return e}()),this.response=new(function(){function e(){Object(U["a"])(this,e),this.version="1.1",this.status="200",this.reason="OK",this.headers=new Array}return e}())}return e}()),this.web_socket=new(function(){function e(){Object(U["a"])(this,e),this.path="",this.headers=new Array}return e}()),this.kcp=new(function(){function e(){Object(U["a"])(this,e),this.mtu=1350,this.tti=50,this.uplink_capacity=5,this.downlink_capacity=20,this.congestion=!1,this.read_buffer_size=2,this.write_buffer_size=2,this.type="none"}return e}()),this.http2=new(function(){function e(){Object(U["a"])(this,e),this.host="",this.path=""}return e}())},ve=Object(n["defineComponent"])({name:"NewV2rayEndpoint",props:{show:Boolean},emits:["update:show","success"],data:function(){return{saving:!1,form:new Ve,rules:{host:[{required:!0,message:"必须填写主机地址",trigger:"blur"}],port:[{required:!0,message:"必须填写端口号",trigger:"blur"}],user_id:[{required:!0,message:"必须填写用户ID",trigger:"blur"}]}}},methods:{close:function(){this.form=new Ve,this.$emit("update:show",!1)},success:function(){this.close(),this.$emit("success")},save:function(){var e=this,t=this.$refs.NewV2rayEndpointForm;t.validate((function(t){t&&(e.form.port=parseInt(e.form.port.toString()),e.form.alter_id=parseInt(e.form.alter_id.toString()),e.saving=!0,E.a.post(je,e.form).then((function(t){e.saving=!1,0==t.data.code?(e.$message.success("添加节点成功"),e.success()):e.$message.error(t.data.message)})))}))},addWebSocketHeader:function(){this.form.web_socket.headers.push(new M["b"])},addTcpRequestHeader:function(){this.form.tcp.request.headers.push(new M["b"])},addTcpResponseHeader:function(){this.form.tcp.response.headers.push(new M["b"])}}});o("0cc9");ve.render=Oe,ve.__scopeId="data-v-4bfee68e";var _e=ve;Object(n["pushScopeId"])("data-v-159702ca");var we=Object(n["createTextVNode"])("GitHub"),ye=Object(n["createTextVNode"])("下载 "),Ne=Object(n["createTextVNode"])("配置帮助");function ge(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("el-table-column"),i=Object(n["resolveComponent"])("el-link"),u=Object(n["resolveComponent"])("el-table"),d=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{width:"60%","model-value":e.show,onClose:e.close,"destroy-on-close":""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{data:e.data,border:"",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{prop:"os",label:"系统类型"}),Object(n["createVNode"])(l,{prop:"client",label:"客户端"}),Object(n["createVNode"])(l,{label:"操作",width:"200"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(i,{type:"primary",underline:!1,href:e.row.git,target:"_blank"},{default:Object(n["withCtx"])((function(){return[we]})),_:2},1032,["href"]),Object(n["createVNode"])(i,{type:"primary",underline:!1,href:e.row.address,class:"margin-left",target:"_blank"},{default:Object(n["withCtx"])((function(){return[ye]})),_:2},1032,["href"]),Object(n["createVNode"])(i,{type:"primary",underline:!1,href:e.row.helper,class:"margin-left"},{default:Object(n["withCtx"])((function(){return[Ne]})),_:2},1032,["href"])]})),_:1})]})),_:1},8,["data"])]})),_:1},8,["model-value","onClose"])}Object(n["popScopeId"])();var Ce=Object(n["defineComponent"])({name:"Download",props:{show:Boolean},emits:["update:show"],data:function(){return{data:[{os:"Windows",client:"V2rayN",git:"https://github.com/2dust/v2rayN/releases",address:"https://github.com/2dust/v2rayN/releases/download/4.20/v2rayN-Core.zip",helper:"#/helper/v2ray-n"},{os:"MacOSX",client:"V2rayX",git:"https://github.com/Cenmrev/V2RayX/releases",address:"https://github.com/Cenmrev/V2RayX/releases/download/v1.5.1/V2RayX.app.zip",helper:"#/helper/v2ray-x"},{os:"Android",client:"V2rayNG",git:"https://github.com/2dust/v2rayNG/releases",address:"https://github.com/2dust/v2rayNG/releases/download/1.6.18/v2rayNG_1.6.18.apk",helper:"#/helper/v2ray-ng"}]}},methods:{close:function(){this.$emit("update:show",!1)}}});o("3645");Ce.render=ge,Ce.__scopeId="data-v-159702ca";var ke=Ce,xe={class:"content-center hidden-sm-and-down"},Te=Object(n["createElementVNode"])("div",{class:"content-center"},"扫描二维码或复制下方字符串到剪贴板并通过剪贴板导入",-1),Se={class:"qr-code margin-top"},Be={class:"margin-top"},Ee={class:"content-center hidden-md-and-up"},Ue=Object(n["createElementVNode"])("div",{class:"content-center"},"扫描二维码或复制下方字符串到剪贴板并通过剪贴板导入",-1),Pe={class:"qr-code margin-top"},Ie={class:"margin-top"};function Me(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("qrcode-vue"),i=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(i,{width:"60%","model-value":e.show,onClose:e.close,"destroy-on-close":""},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",xe,[Te,Object(n["createElementVNode"])("div",Se,[Object(n["createVNode"])(l,{value:e.content,size:350,level:"H"},null,8,["value"])]),Object(n["createElementVNode"])("div",Be,Object(n["toDisplayString"])(e.content),1)]),Object(n["createElementVNode"])("div",Ee,[Ue,Object(n["createElementVNode"])("div",Pe,[Object(n["createVNode"])(l,{value:e.content,size:180,level:"H"},null,8,["value"])]),Object(n["createElementVNode"])("div",Ie,Object(n["toDisplayString"])(e.content),1)])]})),_:1},8,["model-value","onClose"])}var He=o("d39c"),De=o.n(He),Re=Object(n["defineComponent"])({name:"QRCode",components:{QrcodeVue:De.a},props:{show:Boolean,content:String},emits:["update:show"],methods:{close:function(){this.$emit("update:show",!1)}}});Re.render=Me;var qe=Re;Object(n["pushScopeId"])("data-v-565308ff");var Fe=Object(n["createTextVNode"])("当前服务器"),ze=Object(n["createTextVNode"])("远程服务器(暂未支持)"),Ae=Object(n["createTextVNode"])("默认安装"),$e=Object(n["createTextVNode"])("重新安装"),Le=Object(n["createTextVNode"])("仅升级V2ray"),Ge=Object(n["createTextVNode"])("仅配置V2ray"),Ke=Object(n["createTextVNode"])("V2ray配置选择"),We=Object(n["createTextVNode"])("预设配置(WebSocket/HTTPS)"),Qe=Object(n["createTextVNode"])("预设配置(KCP/HTTPS)"),Xe=Object(n["createTextVNode"])("自定义配置"),Je=Object(n["createTextVNode"])("添加一个用户"),Ye=Object(n["createTextVNode"])("TCP传输配置"),Ze={class:"inline-form-item-2"},et=Object(n["createTextVNode"])("添加自定义请求头字段"),tt={class:"inline-form-item-3"},ot=Object(n["createTextVNode"])("添加自定义响应头字段"),nt=Object(n["createTextVNode"])("WebSocket传输配置"),rt=Object(n["createTextVNode"])("添加自定义头字段"),ct=Object(n["createTextVNode"])("KCP传输配置"),at={class:"inline-form-item-2"},lt={class:"inline-form-item-2"},it={class:"inline-form-item-2"},ut=Object(n["createTextVNode"])("MB/S"),dt=Object(n["createTextVNode"])("MB"),st={class:"inline-form-item-2"},ft=Object(n["createTextVNode"])("MB/S"),mt=Object(n["createTextVNode"])("MB"),bt=Object(n["createTextVNode"])("HTTPS配置 "),pt=Object(n["createElementVNode"])("i",{class:"el-icon-info"},null,-1),ht=Object(n["createTextVNode"])("自动申请证书"),Ot=Object(n["createTextVNode"])("上传证书(暂未支持)"),jt=Object(n["createTextVNode"])("取消"),Vt=Object(n["createTextVNode"])("开始部署");function vt(e,t,o,r,c,a){var l=Object(n["resolveComponent"])("el-radio"),i=Object(n["resolveComponent"])("el-radio-group"),u=Object(n["resolveComponent"])("el-form-item"),d=Object(n["resolveComponent"])("el-divider"),s=Object(n["resolveComponent"])("el-option"),f=Object(n["resolveComponent"])("el-select"),m=Object(n["resolveComponent"])("el-input"),b=Object(n["resolveComponent"])("el-button"),p=Object(n["resolveComponent"])("el-switch"),h=Object(n["resolveComponent"])("el-tooltip"),O=Object(n["resolveComponent"])("el-form"),j=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(j,{width:"60%","model-value":e.show,onClose:e.close,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{model:e.form,"label-width":"120px",ref:"V2rayServerDeploy",rules:e.rules},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{label:"选择服务器"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{modelValue:e.form.server_type,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.server_type=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{label:1},{default:Object(n["withCtx"])((function(){return[Fe]})),_:1}),Object(n["createVNode"])(l,{label:2,disabled:""},{default:Object(n["withCtx"])((function(){return[ze]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"安装方式"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{modelValue:e.form.install_type,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.install_type=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{label:1},{default:Object(n["withCtx"])((function(){return[Ae]})),_:1}),Object(n["createVNode"])(l,{label:2},{default:Object(n["withCtx"])((function(){return[$e]})),_:1}),Object(n["createVNode"])(l,{label:3},{default:Object(n["withCtx"])((function(){return[Le]})),_:1}),Object(n["createVNode"])(l,{label:4},{default:Object(n["withCtx"])((function(){return[Ge]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),3!==parseInt(e.form.install_type.toString())&&5!==parseInt(e.form.install_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createVNode"])(d,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[Ke]})),_:1}),Object(n["createVNode"])(u,{label:"选择配置"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{modelValue:e.form.config_type,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.config_type=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{label:1},{default:Object(n["withCtx"])((function(){return[We]})),_:1}),Object(n["createVNode"])(l,{label:2},{default:Object(n["withCtx"])((function(){return[Qe]})),_:1}),Object(n["createVNode"])(l,{label:3},{default:Object(n["withCtx"])((function(){return[Xe]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"传输方式",prop:"transport_type"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{modelValue:e.form.v2ray_config.transport_type,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.v2ray_config.transport_type=t}),class:"w-100"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:1,label:"TCP"}),Object(n["createVNode"])(s,{value:2,label:"WebSocket"}),Object(n["createVNode"])(s,{value:3,label:"KCP"}),Object(n["createVNode"])(s,{value:4,label:"HTTP2"})]})),_:1},8,["modelValue"])]})),_:1}),1===parseInt(e.form.v2ray_config.transport_type.toString())||3===parseInt(e.form.v2ray_config.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,label:"监听端口"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.v2ray_port,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.v2ray_config.v2ray_port=t}),placeholder:"V2ray监听的端口号"},null,8,["modelValue"])]})),_:1})):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.v2ray_config.clients,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e.user_id,class:"inline-form-item-client"},[Object(n["createVNode"])(u,{label:"用户ID",class:"form-item-user-id"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.user_id,"onUpdate:modelValue":function(t){return e.user_id=t},placeholder:"用户ID，请勿使用过短的用户ID，若不填写将会自动生成"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(u,{label:"额外ID","label-width":"60px",class:"form-item-alter-id"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.alter_id,"onUpdate:modelValue":function(t){return e.alter_id=t},type:"number",min:"0",max:"65535",placeholder:"额外ID的数量，推荐值4，可选值0-65535"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(u,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{type:"primary",onClick:e.addClient},{default:Object(n["withCtx"])((function(){return[Je]})),_:1},8,["onClick"])]})),_:1}),1===parseInt(e.form.v2ray_config.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createVNode"])(d,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[Ye]})),_:1}),Object(n["createVNode"])(u,{label:"伪装类型"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{modelValue:e.form.v2ray_config.tcp.type,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.v2ray_config.tcp.type=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:"none",label:"NONE"}),Object(n["createVNode"])(s,{value:"http",label:"HTTP"})]})),_:1},8,["modelValue"])]})),_:1}),"http"===e.form.v2ray_config.tcp.type?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createElementVNode"])("div",Ze,[Object(n["createVNode"])(u,{label:"请求版本",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{modelValue:e.form.v2ray_config.tcp.request.version,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.v2ray_config.tcp.request.version=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:"1.1",label:"HTTP/1.1"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"请求方式",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{modelValue:e.form.v2ray_config.tcp.request.method,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.v2ray_config.tcp.request.method=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:"GET",label:"GET"}),Object(n["createVNode"])(s,{value:"POST",label:"POST"})]})),_:1},8,["modelValue"])]})),_:1})]),Object(n["createVNode"])(u,{label:"请求路径"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.tcp.request.path,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.v2ray_config.tcp.request.path=t}),placeholder:"请求路径，多个路径用英文,分隔，每次请求会随机选择一个，默认为/"},null,8,["modelValue"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.v2ray_config.tcp.request.headers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"inline-form-item-2"},[Object(n["createVNode"])(u,{label:"字段名",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},placeholder:"自定义头的字段名称"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(u,{label:"字段值",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"自定义头的字段值"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(u,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{type:"primary",onClick:e.addTcpRequestHeader},{default:Object(n["withCtx"])((function(){return[et]})),_:1},8,["onClick"])]})),_:1}),Object(n["createElementVNode"])("div",tt,[Object(n["createVNode"])(u,{label:"响应版本",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{modelValue:e.form.v2ray_config.tcp.response.version,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.v2ray_config.tcp.response.version=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:"1.1",label:"HTTP/1.1"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"状态码",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.tcp.response.status,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.v2ray_config.tcp.response.status=t}),placeholder:"HTTP响应的状态码，默认为200"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"状态描述",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.tcp.response.reason,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.form.v2ray_config.tcp.response.reason=t}),placeholder:"HTTP响应的状态描述，默认为OK"},null,8,["modelValue"])]})),_:1})]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.v2ray_config.tcp.response.headers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"inline-form-item-2"},[Object(n["createVNode"])(u,{label:"字段名",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},placeholder:"自定义头的字段名称"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(u,{label:"字段值",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"自定义头的字段值"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(u,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{type:"primary",onClick:e.addTcpResponseHeader},{default:Object(n["withCtx"])((function(){return[ot]})),_:1},8,["onClick"])]})),_:1})],64)):Object(n["createCommentVNode"])("",!0)],64)):Object(n["createCommentVNode"])("",!0),2===parseInt(e.form.v2ray_config.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:2},[Object(n["createVNode"])(d,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[nt]})),_:1}),Object(n["createVNode"])(u,{label:"路径"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.web_socket.path,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.form.v2ray_config.web_socket.path=t}),placeholder:"URI路径"},null,8,["modelValue"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.v2ray_config.web_socket.headers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"inline-form-item-2"},[Object(n["createVNode"])(u,{label:"字段名",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},placeholder:"自定义头的字段名称"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(n["createVNode"])(u,{label:"字段值",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"自定义头的字段值"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)])})),128)),Object(n["createVNode"])(u,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{type:"primary",onClick:e.addWebSocketHeader},{default:Object(n["withCtx"])((function(){return[rt]})),_:1},8,["onClick"])]})),_:1})],64)):Object(n["createCommentVNode"])("",!0),3===parseInt(e.form.v2ray_config.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:3},[Object(n["createVNode"])(d,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[ct]})),_:1}),Object(n["createElementVNode"])("div",at,[Object(n["createVNode"])(u,{label:"伪装类型",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{modelValue:e.form.v2ray_config.kcp.type,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.form.v2ray_config.kcp.type=t}),class:"w-100"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:"none",label:"none"}),Object(n["createVNode"])(s,{value:"srtp",label:"srtp"}),Object(n["createVNode"])(s,{value:"utp",label:"utp"}),Object(n["createVNode"])(s,{value:"wechat-video",label:"wechat-video"}),Object(n["createVNode"])(s,{value:"dtls",label:"dtls"}),Object(n["createVNode"])(s,{value:"wireguard",label:"wireguard"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"开启拥塞控制",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{modelValue:e.form.v2ray_config.kcp.congestion,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.form.v2ray_config.kcp.congestion=t})},null,8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",lt,[Object(n["createVNode"])(u,{label:"MTU大小",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.kcp.mtu,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.form.v2ray_config.kcp.mtu=t}),type:"number",min:"576",max:"1460",placeholder:"传输单元大小，576-1460之间的整数，默认为1350"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"TTI间隔时间",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.kcp.tti,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.form.v2ray_config.kcp.tti=t}),type:"number",min:"10",max:"100",placeholder:"传输间隔时间，10-100之间的整数，默认为50"},null,8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",it,[Object(n["createVNode"])(u,{label:"上行带宽",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.kcp.uplink_capacity,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.form.v2ray_config.kcp.uplink_capacity=t}),type:"number",min:"0",placeholder:"上行带宽大小，默认为5，单位MB/s"},{append:Object(n["withCtx"])((function(){return[ut]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"读取缓冲区大小",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.kcp.read_buffer_size,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.form.v2ray_config.kcp.read_buffer_size=t}),type:"number",min:"1",placeholder:"读取缓冲区大小，默认为2，单位MB"},{append:Object(n["withCtx"])((function(){return[dt]})),_:1},8,["modelValue"])]})),_:1})]),Object(n["createElementVNode"])("div",st,[Object(n["createVNode"])(u,{label:"下行带宽",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.kcp.downlink_capacity,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.form.v2ray_config.kcp.downlink_capacity=t}),type:"number",min:"0",placeholder:"下行带宽大小，默认为20，单位MB/s"},{append:Object(n["withCtx"])((function(){return[ft]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(u,{label:"写入缓冲区大小",class:"form-item"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.v2ray_config.kcp.write_buffer_size,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.form.v2ray_config.kcp.write_buffer_size=t}),type:"number",min:"1",placeholder:"写入缓冲区大小，默认为2，单位MB"},{append:Object(n["withCtx"])((function(){return[mt]})),_:1},8,["modelValue"])]})),_:1})])],64)):Object(n["createCommentVNode"])("",!0),4!==parseInt(e.form.install_type.toString())&&3!==parseInt(e.form.v2ray_config.transport_type.toString())?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:4},[Object(n["createVNode"])(d,{"content-position":"left"},{default:Object(n["withCtx"])((function(){return[bt,Object(n["createVNode"])(h,{content:"WebSocket模式通过Caddy自动申请及续期证书；TCP模式可以自动申请证书或手动上传证书",placement:"right"},{default:Object(n["withCtx"])((function(){return[pt]})),_:1})]})),_:1}),Object(n["createVNode"])(u,{label:"使用HTTPS"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{modelValue:e.form.use_tls,"onUpdate:modelValue":t[21]||(t[21]=function(t){return e.form.use_tls=t})},null,8,["modelValue"])]})),_:1}),e.form.use_tls?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,label:"HTTPS域名",prop:"tls_host"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{modelValue:e.form.tls_host,"onUpdate:modelValue":t[22]||(t[22]=function(t){return e.form.tls_host=t}),placeholder:"HTTPS域名，该域名必须已被解析到目标服务器的IP地址"},null,8,["modelValue"])]})),_:1})):Object(n["createCommentVNode"])("",!0),e.form.use_tls?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:1,label:"HTTPS证书"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{modelValue:e.form.cert_type,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.form.cert_type=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{label:1},{default:Object(n["withCtx"])((function(){return[ht]})),_:1}),Object(n["createVNode"])(l,{label:2,disabled:""},{default:Object(n["withCtx"])((function(){return[Ot]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})):Object(n["createCommentVNode"])("",!0)],64)):Object(n["createCommentVNode"])("",!0)],64)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(u,{"label-width":"0",class:"content-center"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{type:"danger",onClick:e.close},{default:Object(n["withCtx"])((function(){return[jt]})),_:1},8,["onClick"]),Object(n["createVNode"])(b,{type:"primary",onClick:e.save,loading:e.saving},{default:Object(n["withCtx"])((function(){return[Vt]})),_:1},8,["onClick","loading"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["model-value","onClose"])}Object(n["popScopeId"])();o("498a");var _t="/api/v2ray-server-deploy",wt=function e(){Object(U["a"])(this,e),this.server_type=1,this.server_ip="",this.server_port=22,this.server_user="",this.server_password="",this.install_type=1,this.use_tls=!1,this.tls_host="",this.cert_type=1,this.use_cloudreve=!1,this.config_type=1,this.v2ray_config=new(function(){function e(){Object(U["a"])(this,e),this.clients=new Array,this.v2ray_port=3e3,this.transport_type=1,this.tcp=new(function(){function e(){Object(U["a"])(this,e),this.type="none",this.request=new(function(){function e(){Object(U["a"])(this,e),this.version="1.1",this.method="GET",this.path="",this.headers=new Array}return e}()),this.response=new(function(){function e(){Object(U["a"])(this,e),this.version="1.1",this.status="200",this.reason="OK",this.headers=new Array}return e}())}return e}()),this.web_socket=new(function(){function e(){Object(U["a"])(this,e),this.path="",this.headers=new Array}return e}()),this.kcp=new(function(){function e(){Object(U["a"])(this,e),this.mtu=1350,this.tti=50,this.uplink_capacity=5,this.downlink_capacity=20,this.congestion=!1,this.read_buffer_size=2,this.write_buffer_size=2,this.type="none"}return e}())}return e}())},yt=function e(){Object(U["a"])(this,e),this.user_id="",this.alter_id=4},Nt=Object(n["defineComponent"])({name:"DeployV2rayServer",props:{show:Boolean},emits:["update:show","success"],watch:{show:function(){this.form.v2ray_config.v2ray_port=3e3,this.form.v2ray_config.transport_type=2,this.form.v2ray_config.web_socket.path="/v2ray-ws-path",this.form.use_tls=!0,this.form.use_cloudreve=!1,this.form.v2ray_config.clients=new Array,this.addClient()},"form.config_type":function(){1==this.form.config_type&&(this.form.v2ray_config.v2ray_port=3e3,this.form.v2ray_config.transport_type=2,this.form.v2ray_config.web_socket.path="/v2ray-ws-path",this.form.use_tls=!0,this.form.use_cloudreve=!1),2==this.form.config_type&&(this.form.v2ray_config.v2ray_port=3e3,this.form.v2ray_config.transport_type=3,this.form.use_tls=!1,this.form.use_cloudreve=!1),3==this.form.config_type&&(this.form.v2ray_config.v2ray_port=3e3,this.form.v2ray_config.transport_type=1,this.form.use_tls=!1,this.form.use_cloudreve=!1)}},data:function(){return{saving:!1,form:new wt,rules:{tls_host:[{validator:this.validateTlsHost,trigger:"blur"}],use_cloudreve:[{validator:this.validateUseCloudreve,trigger:"blur"}]},headers:[]}},methods:{close:function(){this.form=new wt,this.$emit("update:show",!1)},success:function(){this.close(),this.$emit("success")},save:function(){var e=this,t=this.$refs.V2rayServerDeploy;t.validate((function(t){if(t){e.form.v2ray_config.v2ray_port=parseInt(e.form.v2ray_config.v2ray_port.toString()),e.form.v2ray_config.kcp.mtu=parseInt(e.form.v2ray_config.kcp.mtu.toString()),e.form.v2ray_config.kcp.tti=parseInt(e.form.v2ray_config.kcp.tti.toString()),e.form.v2ray_config.kcp.uplink_capacity=parseInt(e.form.v2ray_config.kcp.uplink_capacity.toString()),e.form.v2ray_config.kcp.downlink_capacity=parseInt(e.form.v2ray_config.kcp.downlink_capacity.toString()),e.form.v2ray_config.kcp.read_buffer_size=parseInt(e.form.v2ray_config.kcp.read_buffer_size.toString()),e.form.v2ray_config.kcp.write_buffer_size=parseInt(e.form.v2ray_config.kcp.write_buffer_size.toString());for(var o=0;o<e.form.v2ray_config.clients.length;o++)e.form.v2ray_config.clients[o].alter_id=parseInt(e.form.v2ray_config.clients[o].alter_id.toString());e.saving=!0,E.a.post(_t,e.form).then((function(t){e.saving=!1,0==t.data.code?e.success():e.$message.error(t.data.message)}))}}))},addWebSocketHeader:function(){this.form.v2ray_config.web_socket.headers.push(new M["b"])},addTcpRequestHeader:function(){this.form.v2ray_config.tcp.request.headers.push(new M["b"])},addTcpResponseHeader:function(){this.form.v2ray_config.tcp.response.headers.push(new M["b"])},addClient:function(){this.form.v2ray_config.clients.push(new yt)},validateTlsHost:function(e,t,o){this.form.use_tls&&""==this.form.tls_host.trim()?o(new Error("开启HTTPS时必须填写HTTPS域名")):o()},validateUseCloudreve:function(e,t,o){!this.form.use_cloudreve||1!=this.form.v2ray_config.transport_type&&3!=this.form.v2ray_config.transport_type?o():o(new Error("配置Cloudreve时V2ray不支持使用TCP与KCP，请使用WebSocket或HTTP2"))}}});o("bc94");Nt.render=vt,Nt.__scopeId="data-v-565308ff";var gt=Nt,Ct=o("6821"),kt=Object(n["defineComponent"])({name:"Home",components:{DeployV2rayServer:gt,QRCode:qe,Download:ke,NewV2rayEndpoint:_e,Remove:W},data:function(){return{loading:!0,data:new Array,showRemoveModal:!1,removeItem:new D,removing:!1,showNewModal:!1,showDownloadModal:!1,showQRCodeModal:!1,showDevelopV2rayModal:!1,v2rayNgVMessString:""}},mounted:function(){this.load()},methods:{load:function(){var e=this;this.loading=!0,E.a.get(H).then((function(t){e.loading=!1,0==t.data.code?e.data=t.data.data.data:e.$message.error(t.data.message)}))},getTransportType:function(e){var t={1:"TCP",2:"WebSocket",3:"KCP",4:"HTTP2"};return t[e]},download:function(e){var t=this;e.downloading=!0;var o=new q;o.id=e.id,E.a.post(R,o).then((function(o){e.downloading=!1,0==o.data.code?(t.v2rayNgVMessString=o.data.data.content,t.showQRCodeModal=!0):t.$message.error(o.data.message)}))},remove:function(e){var t=this,o=new z;o.id=this.removeItem.id,o.password=Ct(e),this.removing=!0,E.a.post(F,o).then((function(e){t.removing=!1,0==e.data.code?(t.showRemoveModal=!1,t.$message.success("删除成功"),t.load()):t.$message.error(e.data.message)}))}}});o("8ab1"),o("e64c");kt.render=S;var xt=kt,Tt=o("4995"),St=[{path:"/",name:"Home",component:xt,meta:{title:"配置列表"}},{path:"/helper/v2ray-x",name:"HelperV2rayX",component:function(){return o.e("chunk-0e9cc528").then(o.bind(null,"96ce"))},meta:{title:"V2rayX配置帮助"}},{path:"/helper/v2ray-n",name:"HelperV2rayN",component:function(){return o.e("chunk-1fdb5426").then(o.bind(null,"42c1"))},meta:{title:"V2rayN配置帮助"}},{path:"/helper/v2ray-ng",name:"HelperV2rayNG",component:function(){return o.e("chunk-1e80c40e").then(o.bind(null,"6d7e"))},meta:{title:"V2rayNG配置帮助"}},{path:"/auth/login",name:"Login",component:function(){return o.e("chunk-4796b3c0").then(o.bind(null,"5326"))},meta:{title:"验证"}},{name:"401",path:"/401",component:function(){return o.e("chunk-4469a79b").then(o.bind(null,"ec55"))},meta:{title:"401"}},{path:"/404",name:"404",component:function(){return o.e("chunk-eb5472ae").then(o.bind(null,"2754"))},meta:{title:"404"}},{path:"/:catchAll(.*)",name:"NotFound",redirect:"/404"}],Bt=Object(l["a"])({history:Object(l["b"])(),routes:St});Bt.beforeEach((function(e,t,o){var n=Date.parse(new Date)/1e3;if("Login"!=e.name&&(""==i["b"].getters.token.token||i["b"].getters.token.expired<n))return i["b"].getters.token.expired<n&&Tt["a"].info("登录信息已失效，请重新登录"),void i["b"].dispatch("logout").then((function(){Bt.push({name:"Login",query:{redirect:e.path}}).then()}));e.meta.hasOwnProperty("title")&&(document.title=e.meta.title+" - V2ray Subscription"),o()}));var Et=Bt,Ut=o("1250");o("fa6d"),o("7437"),o("76be"),o("b751");Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e},i["b"].dispatch("load").then(),E.a.interceptors.request.use((function(e){return""!=i["b"].getters.token.token&&(e.headers["Authorization"]="Bearer "+i["b"].getters.token.token),e})),E.a.interceptors.response.use((function(e){return 200!=e.status||20001!=e.data.code&&20002!=e.data.code||(i["b"].dispatch("logout").then(),Et.push({name:"Login"}).then()),e}),(function(e){if(e.response){if(400<=e.response.status&&e.response.status<500)return void Tt["a"].error("无效的数据请求");if(500<=e.response.status)return void Tt["a"].error("服务器异常, 请稍后重试");console.log("请求失败, 未知异常, 请联系管理员")}})),Object(n["createApp"])(a).use(i["b"]).use(Et).use(Ut["a"],{size:"mini"}).mount("#app")},e64c:function(e,t,o){"use strict";o("363c")},edff:function(e,t,o){}});