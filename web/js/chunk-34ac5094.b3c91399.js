(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34ac5094"],{"2d95":function(e,t,o){},5326:function(e,t,o){"use strict";o.r(t);var n=o("7a23");Object(n["pushScopeId"])("data-v-fb377b36");var r={class:"login-box"},a={class:"login-form"};function c(e,t,o,c,i,l){var u=Object(n["resolveComponent"])("el-button"),d=Object(n["resolveComponent"])("el-input"),s=Object(n["resolveComponent"])("el-form-item"),f=Object(n["resolveComponent"])("el-form");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])(f,{ref:"LoginForm",model:e.form,rules:e.rules,"label-width":"0",onsubmit:"return false",onSubmit:e.login},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{prop:"key"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{modelValue:e.form.key,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.key=t}),autocomplete:"off",placeholder:"口令","prefix-icon":"el-icon-key",size:"medium"},{append:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{loading:e.logging,icon:"el-icon-check",type:"primary",onClick:e.login},null,8,["loading","onClick"])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","onSubmit"])])])}Object(n["popScopeId"])();var i=o("bc3a"),l=o.n(i),u=o("262e"),d=o("2caf"),s=o("d4ec"),f=o("89df"),m="/api/auth",b=function e(){Object(s["a"])(this,e),this.key=""},p=(f["a"],o("0613")),g=o("6821"),k=Object(n["defineComponent"])({name:"Login",data:function(){return{form:new b,rules:{key:[{required:!0,message:"请输入口令",trigger:"blur"}]},logging:!1}},methods:{login:function(){var e=this,t=this.$refs["LoginForm"];return t.validate((function(t){if(!t)return!1;var o=new b;o.key=g(e.form.key),e.logging=!0,l.a.post(m,o).then((function(t){if(e.logging=!1,0==t.data.code){var o=new p["b"];o.token=t.data.data.token,o.expired=t.data.data.expired,e.$store.commit("token",o);var n=e.$route.query.redirect;window.location.href=n||"/"}else e.$message.error(t.data.message)}))})),!1}}});o("616a"),o("ad2c");k.render=c,k.__scopeId="data-v-fb377b36";t["default"]=k},"616a":function(e,t,o){"use strict";o("7a23a")},"7a23a":function(e,t,o){},ad2c:function(e,t,o){"use strict";o("2d95")}}]);